## ğŸ¯ ç»Ÿä¸€æ–°é²œåº¦ç›‘æ§æ¡†æ¶

### âœ… å·²å®Œæˆé‡æ„

åŸæœ‰ç³»ç»Ÿåªæ”¯æŒ GM ç±»æ¨æ–‡ï¼Œç°åœ¨å·²å‡çº§ä¸º**ç»Ÿä¸€æ¡†æ¶**ï¼Œæ”¯æŒæ‰€æœ‰å†…å®¹ç±»å‹ï¼

---

## ğŸ“Š æ¶æ„è®¾è®¡

### ä¹‹å‰ï¼ˆå•ä¸€ç±»å‹ï¼‰

```
ClaudeClient
    â†“
ContentFreshnessMonitor (åªç›‘æ§ GM)
    â†“
æé†’ç³»ç»Ÿ
```

### ç°åœ¨ï¼ˆç»Ÿä¸€æ¡†æ¶ï¼‰

```
ClaudeClient
    â†“
UnifiedFreshnessMonitor (ç»Ÿä¸€å…¥å£)
    â”œâ”€â”€ GM Monitor (ç‹¬ç«‹å†å²æ–‡ä»¶)
    â”œâ”€â”€ Main Monitor (ç‹¬ç«‹å†å²æ–‡ä»¶)
    â”œâ”€â”€ Casual Monitor (ç‹¬ç«‹å†å²æ–‡ä»¶)
    â””â”€â”€ Reply Monitor (ç‹¬ç«‹å†å²æ–‡ä»¶)
    â†“
æé†’ç³»ç»Ÿ (ç»Ÿä¸€)
```

---

## ğŸ¨ æ”¯æŒçš„å†…å®¹ç±»å‹

| ç±»å‹ | åç§° | æè¿° | æ£€æŸ¥é—´éš” | çŠ¶æ€ |
|-----|------|------|---------|------|
| **gm** | GM Posts | æ—©å®‰æ¨æ–‡ | æ¯ 20 æ¡ | âœ… å·²å¯ç”¨ |
| **main** | Main Posts | ä¸»è¦å†…å®¹æ¨æ–‡ | æ¯ 15 æ¡ | âš ï¸ æœªå¯ç”¨ï¼ˆå¾…è®­ç»ƒï¼‰|
| **casual** | Casual Posts | ä¼‘é—²/æ™šé—´æ¨æ–‡ | æ¯ 20 æ¡ | âš ï¸ æœªå¯ç”¨ï¼ˆå¾…è®­ç»ƒï¼‰|
| **reply** | Reply Posts | å›å¤æ¨æ–‡ | æ¯ 30 æ¡ | âš ï¸ æœªå¯ç”¨ï¼ˆå¾…è®­ç»ƒï¼‰|

**æ‰©å±•æ€§**ï¼šå¯ä»¥è½»æ¾æ·»åŠ æ–°ç±»å‹ï¼ˆå¦‚ threadã€poll ç­‰ï¼‰

---

## ğŸ”§ æ ¸å¿ƒç‰¹æ€§

### 1. **ç‹¬ç«‹ç›‘æ§**

æ¯ç§å†…å®¹ç±»å‹æœ‰ï¼š
- âœ… ç‹¬ç«‹çš„å†å²æ–‡ä»¶ï¼ˆ`data/history_gm.json`, `data/history_main.json` ç­‰ï¼‰
- âœ… ç‹¬ç«‹çš„ç”Ÿæˆè®¡æ•°å™¨
- âœ… ç‹¬ç«‹çš„æ–°é²œåº¦è¯„åˆ†

### 2. **è‡ªå®šä¹‰é…ç½®**

æ¯ç§ç±»å‹å¯ä»¥å•ç‹¬é…ç½®ï¼š
- âœ… æ£€æŸ¥é—´éš”ï¼ˆGM: 20æ¡ï¼ŒMain: 15æ¡ï¼ŒReply: 30æ¡ï¼‰
- âœ… é˜ˆå€¼ï¼ˆå¯ä»¥ä¸ºé‡è¦å†…å®¹è®¾ç½®æ›´ä¸¥æ ¼çš„é˜ˆå€¼ï¼‰
- âœ… å¯ç”¨/ç¦ç”¨

### 3. **ç»Ÿä¸€æé†’**

æ‰€æœ‰ç±»å‹å…±äº«ï¼š
- âœ… åŒä¸€å¥—æé†’ç³»ç»Ÿ
- âœ… åŒä¸€å¥—é£ä¹¦é€šçŸ¥
- âœ… åŒä¸€å¥—ä¸¥é‡åº¦åˆ†çº§

### 4. **ç®€å•æ‰©å±•**

æ·»åŠ æ–°ç±»å‹åªéœ€ï¼š
```python
# åœ¨ UnifiedFreshnessMonitor.CONTENT_TYPES ä¸­æ·»åŠ 
'thread': {
    'name': 'Thread Posts',
    'description': 'æ¨æ–‡ä¸²',
    'check_interval': 10,
    'enabled': False,
    'thresholds': {
        'high_severity': 0.35,
        'medium_severity': 0.50,
        'low_severity': 0.70
    }
}
```

---

## ğŸ“ ä½¿ç”¨ç¤ºä¾‹

### æŸ¥çœ‹ç»Ÿä¸€ä»ªè¡¨æ¿

```bash
python3 manage_training.py dashboard
```

è¾“å‡ºï¼š
```
======================================================================
ğŸ“Š AI Content Studio - ç»Ÿä¸€å†…å®¹æ–°é²œåº¦ä»ªè¡¨æ¿
======================================================================

âœ… å¯ç”¨ç›‘æ§: 1 ç§ç±»å‹
âš ï¸ æœªå¯ç”¨: 3 ç§ç±»å‹

âœ… GM Posts (GM)
   æ–°é²œåº¦: 0.90 / 1.00
   å·²ç”Ÿæˆ: 18 æ¡
   æ£€æŸ¥é—´éš”: æ¯ 20 æ¡

âš ï¸ æœªå¯ç”¨ç›‘æ§çš„ç±»å‹:
   - Main Posts (main): ä¸»è¦å†…å®¹æ¨æ–‡
   - Casual Posts (casual): ä¼‘é—²/æ™šé—´æ¨æ–‡
   - Reply Posts (reply): å›å¤æ¨æ–‡

ğŸ’¡ æç¤º: æ·»åŠ è®­ç»ƒæ•°æ®åå¯ä»¥å¯ç”¨ç›‘æ§
======================================================================
```

### å¯ç”¨æ–°ç±»å‹

å½“ä½ å‡†å¤‡å¥½ Main ç±»æ¨æ–‡çš„è®­ç»ƒæ•°æ®åï¼š

```python
from src.intelligence.unified_freshness_monitor import get_unified_monitor

monitor = get_unified_monitor()
monitor.enable_content_type('main')  # å¯ç”¨ Main ç›‘æ§
```

æˆ–è€…åœ¨é…ç½®ä¸­ä¿®æ”¹ï¼š
```python
# src/intelligence/unified_freshness_monitor.py
'main': {
    'enabled': True,  # æ”¹æˆ True
    ...
}
```

### è®°å½•ä¸åŒç±»å‹çš„æ¨æ–‡

```python
from src.intelligence.unified_freshness_monitor import record_post

# è®°å½• GM
record_post('gm', 'gm builders', {'theme': 'work'})

# è®°å½• Mainï¼ˆéœ€è¦å…ˆå¯ç”¨ï¼‰
record_post('main', 'Just shipped a new feature...', {'theme': 'tech'})

# è®°å½• Casualï¼ˆéœ€è¦å…ˆå¯ç”¨ï¼‰
record_post('casual', 'Friday vibes', {'theme': 'weekend'})
```

---

## ğŸ›ï¸ é…ç½®è¯´æ˜

### æ£€æŸ¥é—´éš”ï¼ˆcheck_intervalï¼‰

- **GM**: 20 æ¡ - æ—¥å¸¸æ¨æ–‡ï¼Œæ ‡å‡†é¢‘ç‡
- **Main**: 15 æ¡ - ä¸»è¦å†…å®¹ï¼Œæ›´é‡è¦ï¼Œæ›´é¢‘ç¹æ£€æŸ¥
- **Casual**: 20 æ¡ - ä¼‘é—²å†…å®¹ï¼Œæ ‡å‡†é¢‘ç‡
- **Reply**: 30 æ¡ - å›å¤å†…å®¹ï¼Œè¦æ±‚è¾ƒä½ï¼Œè¾ƒå°‘æ£€æŸ¥

**åŸç†**: è¶Šé‡è¦çš„å†…å®¹ç±»å‹ï¼Œæ£€æŸ¥é—´éš”è¶Šå°ï¼ˆè¶Šé¢‘ç¹ï¼‰

### é˜ˆå€¼ï¼ˆthresholdsï¼‰

æ‰€æœ‰ç±»å‹é»˜è®¤ä½¿ç”¨ç›¸åŒé˜ˆå€¼ï¼š
- **HIGH**: < 0.35ï¼ˆç´§æ€¥ï¼‰
- **MEDIUM**: 0.35-0.50ï¼ˆè­¦å‘Šï¼‰
- **LOW**: 0.50-0.70ï¼ˆæç¤ºï¼‰

**å¯è‡ªå®šä¹‰**: Reply ç±»å‹å¯ä»¥ä½¿ç”¨æ›´å®½æ¾çš„é˜ˆå€¼ï¼ˆ0.30 / 0.45 / 0.65ï¼‰

---

## ğŸ“ æ–‡ä»¶ç»“æ„

```
ai-content-studio/
â”œâ”€â”€ src/intelligence/
â”‚   â”œâ”€â”€ unified_freshness_monitor.py     # â­ æ–°å¢ï¼šç»Ÿä¸€ç›‘æ§å™¨
â”‚   â”œâ”€â”€ content_freshness_monitor.py     # ä¿ç•™ï¼šå•ä¸ªç±»å‹ç›‘æ§é€»è¾‘
â”‚   â”œâ”€â”€ continuous_learning_system.py    # ä¿ç•™ï¼šè®­ç»ƒç®¡ç†
â”‚   â””â”€â”€ claude_client.py                 # âœï¸ ä¿®æ”¹ï¼šä½¿ç”¨ç»Ÿä¸€ç›‘æ§å™¨
â”‚
â”œâ”€â”€ data/
â”‚   â”œâ”€â”€ history_gm.json                  # GM å†å²ï¼ˆç‹¬ç«‹ï¼‰
â”‚   â”œâ”€â”€ history_main.json                # Main å†å²ï¼ˆç‹¬ç«‹ï¼Œæ–°ï¼‰
â”‚   â”œâ”€â”€ history_casual.json              # Casual å†å²ï¼ˆç‹¬ç«‹ï¼Œæ–°ï¼‰
â”‚   â”œâ”€â”€ history_reply.json               # Reply å†å²ï¼ˆç‹¬ç«‹ï¼Œæ–°ï¼‰
â”‚   â”œâ”€â”€ alerts.log                       # æ‰€æœ‰ç±»å‹å…±äº«
â”‚   â””â”€â”€ latest_alert.json                # æœ€æ–°æé†’ï¼ˆæ‰€æœ‰ç±»å‹ï¼‰
â”‚
â”œâ”€â”€ manage_training.py                   # âœï¸ ä¿®æ”¹ï¼šæ˜¾ç¤ºç»Ÿä¸€ä»ªè¡¨æ¿
â””â”€â”€ test_unified_monitor.py              # â­ æ–°å¢ï¼šæµ‹è¯•è„šæœ¬
```

---

## ğŸ”„ è¿ç§»æŒ‡å—

### åŸæœ‰ GM æ•°æ®

âœ… **æ— éœ€è¿ç§»** - åŸæœ‰çš„ `data/generated_history.json` ä¼šè‡ªåŠ¨è¢«æ–°ç³»ç»Ÿä½¿ç”¨

### ClaudeClient è°ƒç”¨

âœ… **è‡ªåŠ¨å…¼å®¹** - åŸæœ‰ä»£ç æ— éœ€ä¿®æ”¹ï¼Œè‡ªåŠ¨ä½¿ç”¨ç»Ÿä¸€ç›‘æ§å™¨

---

## ğŸš€ æ·»åŠ æ–°å†…å®¹ç±»å‹

### Step 1: å®šä¹‰ç±»å‹

ç¼–è¾‘ `src/intelligence/unified_freshness_monitor.py`:

```python
CONTENT_TYPES = {
    # ... ç°æœ‰ç±»å‹ ...

    'thread': {  # æ–°å¢
        'name': 'Thread Posts',
        'description': 'æ¨æ–‡ä¸²ï¼ˆå¤šæ¡æ¨æ–‡ç»„æˆçš„è¯é¢˜ï¼‰',
        'check_interval': 10,  # æ¨æ–‡ä¸²æ›´é‡è¦ï¼Œ10æ¡æ£€æŸ¥ä¸€æ¬¡
        'enabled': False,      # æ·»åŠ è®­ç»ƒæ•°æ®åå¯ç”¨
        'thresholds': {
            'high_severity': 0.35,
            'medium_severity': 0.50,
            'low_severity': 0.70
        }
    }
}
```

### Step 2: æ·»åŠ è®­ç»ƒæ•°æ®

åˆ›å»º `skills/training_data_thread.json`:

```json
{
  "training_samples": [
    {
      "id": "thread_001",
      "text": "1/ Here's a thread on data quality...",
      ...
    }
  ]
}
```

### Step 3: å¯ç”¨ç›‘æ§

```python
monitor.enable_content_type('thread')
```

### Step 4: ç”Ÿæˆå†…å®¹

```python
# åœ¨ ClaudeClient.generate_original() ä¸­æ·»åŠ  thread ç±»å‹
result = self.generate_original(theme, day, 'thread')
```

**å®Œæˆï¼** æ–°ç±»å‹è‡ªåŠ¨é›†æˆåˆ°ç»Ÿä¸€æ¡†æ¶ã€‚

---

## ğŸ“Š å¯¹æ¯”ä¼˜åŠ¿

### åŸç³»ç»Ÿï¼ˆå•ä¸€ç±»å‹ï¼‰

- âŒ åªæ”¯æŒ GM
- âŒ æ·»åŠ æ–°ç±»å‹éœ€è¦å¤§é‡ä»£ç ä¿®æ”¹
- âŒ æ— æ³•ç‹¬ç«‹é…ç½®ä¸åŒç±»å‹

### æ–°ç³»ç»Ÿï¼ˆç»Ÿä¸€æ¡†æ¶ï¼‰

- âœ… æ”¯æŒä»»æ„å¤šç§ç±»å‹
- âœ… æ·»åŠ æ–°ç±»å‹åªéœ€é…ç½®
- âœ… æ¯ç§ç±»å‹ç‹¬ç«‹ç›‘æ§
- âœ… ç»Ÿä¸€çš„æé†’ç³»ç»Ÿ
- âœ… æ˜“äºæ‰©å±•å’Œç»´æŠ¤

---

## ğŸ¯ å®é™…åœºæ™¯

### åœºæ™¯ 1: GM å’Œ Main åŒæ—¶è¿è¡Œ

```python
# æ—©ä¸Šç”Ÿæˆ GM
client.generate_original('work', 'Monday', 'gm')  # ç¬¬ 1 æ¡ GM
...
client.generate_original('tired', 'Monday', 'gm')  # ç¬¬ 20 æ¡ GM â†’ æ£€æŸ¥ GM

# ä¸‹åˆç”Ÿæˆ Main
client.generate_original('tech', 'Monday', 'main')  # ç¬¬ 1 æ¡ Main
...
client.generate_original('data', 'Monday', 'main')  # ç¬¬ 15 æ¡ Main â†’ æ£€æŸ¥ Main
```

**ç»“æœ**:
- GM æ¯ 20 æ¡æ£€æŸ¥
- Main æ¯ 15 æ¡æ£€æŸ¥
- äº’ä¸å¹²æ‰°ï¼Œç‹¬ç«‹è®¡æ•°

### åœºæ™¯ 2: ä¸åŒç±»å‹ä¸åŒé˜ˆå€¼

```python
# GM: æ ‡å‡†é˜ˆå€¼ï¼ˆ0.35 / 0.50 / 0.70ï¼‰
# Reply: å®½æ¾é˜ˆå€¼ï¼ˆ0.30 / 0.45 / 0.65ï¼‰

# GM æ–°é²œåº¦ 0.48 â†’ MEDIUM æé†’
# Reply æ–°é²œåº¦ 0.48 â†’ LOW æé†’ï¼ˆå› ä¸ºé˜ˆå€¼æ›´å®½æ¾ï¼‰
```

---

## ğŸ§ª æµ‹è¯•

### è¿è¡Œæµ‹è¯•è„šæœ¬

```bash
python3 test_unified_monitor.py
```

æµ‹è¯•è¦†ç›–ï¼š
- âœ… ç»Ÿä¸€ä»ªè¡¨æ¿æ˜¾ç¤º
- âœ… å¯ç”¨/ç¦ç”¨å†…å®¹ç±»å‹
- âœ… è®°å½•å¤šç§ç±»å‹æ¨æ–‡
- âœ… ä¸åŒæ£€æŸ¥é—´éš”
- âœ… è®­ç»ƒè®°å½•

### å®é™…æµ‹è¯•

```bash
# ç”Ÿæˆ 20 æ¡ GM è§¦å‘æ£€æŸ¥
python3 test_gm_with_ascii.py

# æŸ¥çœ‹ç»Ÿä¸€ä»ªè¡¨æ¿
python3 manage_training.py dashboard
```

---

## ğŸ“š API å‚è€ƒ

### UnifiedFreshnessMonitor

```python
class UnifiedFreshnessMonitor:
    def record_post(content_type, post_text, metadata)
        """è®°å½•ç”Ÿæˆçš„æ¨æ–‡"""

    def check_and_alert(content_type, force=False)
        """æ£€æŸ¥å¹¶æé†’"""

    def enable_content_type(content_type)
        """å¯ç”¨ç±»å‹"""

    def disable_content_type(content_type)
        """ç¦ç”¨ç±»å‹"""

    def get_all_statuses()
        """è·å–æ‰€æœ‰çŠ¶æ€"""

    def get_dashboard_summary()
        """è·å–ä»ªè¡¨æ¿"""
```

### ä¾¿æ·å‡½æ•°

```python
from src.intelligence.unified_freshness_monitor import (
    get_unified_monitor,  # è·å–å•ä¾‹
    record_post,          # è®°å½•æ¨æ–‡
    check_and_alert,      # æ£€æŸ¥æé†’
    get_all_statuses,     # è·å–çŠ¶æ€
    get_dashboard         # è·å–ä»ªè¡¨æ¿
)
```

---

## âœ… æ€»ç»“

### å·²å®Œæˆ

- âœ… ç»Ÿä¸€ç›‘æ§æ¡†æ¶ï¼ˆæ”¯æŒæ‰€æœ‰ç±»å‹ï¼‰
- âœ… ç‹¬ç«‹å†å²æ–‡ä»¶ï¼ˆæ¯ç§ç±»å‹ç‹¬ç«‹ï¼‰
- âœ… è‡ªå®šä¹‰é…ç½®ï¼ˆé—´éš”ã€é˜ˆå€¼å¯é…ï¼‰
- âœ… å¯ç”¨/ç¦ç”¨ç®¡ç†ï¼ˆçµæ´»æ§åˆ¶ï¼‰
- âœ… ç»Ÿä¸€æé†’ç³»ç»Ÿï¼ˆé£ä¹¦ã€æ—¥å¿—ã€æ§åˆ¶å°ï¼‰
- âœ… æµ‹è¯•è„šæœ¬ï¼ˆå…¨é¢éªŒè¯ï¼‰

### å½“å‰çŠ¶æ€

- âœ… **GM**: å·²å¯ç”¨ï¼Œå·²æœ‰ 19 ä¸ªè®­ç»ƒæ ·æœ¬
- âš ï¸ **Main**: æœªå¯ç”¨ï¼ˆç­‰å¾…è®­ç»ƒæ•°æ®ï¼‰
- âš ï¸ **Casual**: æœªå¯ç”¨ï¼ˆç­‰å¾…è®­ç»ƒæ•°æ®ï¼‰
- âš ï¸ **Reply**: æœªå¯ç”¨ï¼ˆç­‰å¾…è®­ç»ƒæ•°æ®ï¼‰

### ä¸‹ä¸€æ­¥

1. âœ… GM ç»§ç»­ä½¿ç”¨ï¼ˆå·²å°±ç»ªï¼‰
2. ğŸ“ å‡†å¤‡ Main ç±»è®­ç»ƒæ•°æ®
3. ğŸ”§ å¯ç”¨ Main ç›‘æ§
4. ğŸ“ å‡†å¤‡ Casual ç±»è®­ç»ƒæ•°æ®
5. ğŸ”§ å¯ç”¨ Casual ç›‘æ§

---

**ç»Ÿä¸€æ¡†æ¶å·²å°±ç»ªï¼Œéšæ—¶å¯ä»¥æ‰©å±•æ–°ç±»å‹ï¼** ğŸš€
